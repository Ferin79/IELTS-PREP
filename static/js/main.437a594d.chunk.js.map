{"version":3,"sources":["assets/skype_remix_2.mp3","context/firebase.js","context/auth.js","views/login.js","views/videoChat.js","components/routes.js","components/header.js","App.js","index.js"],"names":["module","exports","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","AuthContext","createContext","AuthProvider","children","useState","currentUser","setCurrentUser","isProfessor","setIsProfessor","useEffect","userData","JSON","parse","localStorage","getItem","role","institute_id","auth","onAuthStateChanged","user","signOut","Provider","value","Login","useContext","errorText","setErrorText","isComponentLoading","setIsComponentLoading","email","setEmail","Container","Row","className","Col","xl","lg","Form","onSubmit","event","preventDefault","target","password","trim","signInWithEmailAndPassword","then","data","firestore","doc","get","isAdmin","isStaff","isStudent","setItem","stringify","catch","error","console","log","message","finally","Group","controlId","Label","Control","type","placeholder","onChange","Spinner","animation","variant","Button","onClick","sendPasswordResetEmail","alert","incommingCallAudio","Audio","require","loop","LoadingTailSpin","color","styled","div","VideoChat","peer","useRef","yourID","setYourID","users","setUsers","stream","setStream","receivingCall","setReceivingCall","caller","setCaller","callerSignal","setCallerSignal","callAccepted","setCallAccepted","userMediaLoading","setUserMediaLoading","callButtonDisability","setCallButtonDisability","remoteUserId","setRemoteUserId","userVideo","partnerVideo","socket","videoStatus","setVideoStatus","audioStatus","setAudioStatus","cameraMode","setCameraMode","current","io","connect","navigator","mediaDevices","getUserMedia","video","facingMode","audio","srcObject","reason","toast","on","id","from","name","signal","response","status","UserVideo","CallUserList","PartnerVideo","endCallButton","ToggleMediaButtons","startUserMediaLoadingTimeout","milisec","setTimeout","changeNameInput","alreadyTaken","Object","keys","forEach","key","emit","size","playsInline","muted","ref","autoPlay","map","Peer","initiator","trickle","userToCall","signalData","removeListener","destroy","disabled","style","margin","professorOnline","incommintCall","videobutton","audiobutton","videoIcon","audioIcon","oldTrack","getVideoTracks","readyState","newStream","newTrack","removeTrack","addTrack","replaceTrack","stop","getAudioTracks","newCameraMode","play","Card","background","Header","Body","Title","pause","currentTime","to","Footer","hidden","fluid","fontWeight","autoClose","Routes","path","exact","component","Navbar","bg","expand","Brand","href","Toggle","aria-controls","Collapse","Nav","Link","as","NavLink","border","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.437a594d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/skype_remix_2.5ab01274.mp3\";","import firebase from \"firebase\";\nvar firebaseConfig = {\n  apiKey: \"AIzaSyAeGlC39mCJhsStuaGT5rRYKNthOLU2Myg\",\n  authDomain: \"ielts-preps.firebaseapp.com\",\n  databaseURL: \"https://ielts-preps.firebaseio.com\",\n  projectId: \"ielts-preps\",\n  storageBucket: \"ielts-preps.appspot.com\",\n  messagingSenderId: \"1048340373708\",\n  appId: \"1:1048340373708:web:aeaeb3f53d5fcc67256269\",\n  measurementId: \"G-KRE50H8H0Z\",\n};\nfirebase.initializeApp(firebaseConfig);\nexport default firebase;\n","import React, { useEffect, createContext, useState } from \"react\";\nimport firebase from \"../context/firebase\";\n\nexport const AuthContext = createContext();\n\nexport const AuthProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [isProfessor, setIsProfessor] = useState(false);\n\n  useEffect(() => {\n    const userData = JSON.parse(localStorage.getItem(\"userInfo\"));\n    if (userData && userData.role && userData.institute_id) {\n      if (userData.role === \"admin\" || userData.role === \"staff\") {\n        setIsProfessor(true);\n      }\n      firebase.auth().onAuthStateChanged((user) => {\n        if (user) {\n          setCurrentUser(user);\n        } else {\n          setCurrentUser(null);\n        }\n      });\n    } else {\n      firebase.auth().signOut();\n    }\n  }, []);\n\n  return (\n    <AuthContext.Provider\n      value={{ currentUser, setCurrentUser, isProfessor, setIsProfessor }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","import React, { useContext, useState } from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Spinner from \"react-bootstrap/Spinner\";\nimport { AuthContext } from \"../context/auth\";\nimport firebase from \"../context/firebase\";\n\nconst Login = () => {\n  const { setIsProfessor } = useContext(AuthContext);\n\n  const [errorText, setErrorText] = useState(\"\");\n  const [isComponentLoading, setIsComponentLoading] = useState(false);\n  const [email, setEmail] = useState(\"\");\n\n  const handleSubmitLogin = (event) => {\n    setErrorText(\"\");\n    setIsComponentLoading(true);\n    event.preventDefault();\n    const email = event.target.email.value;\n    const password = event.target.password.value;\n\n    if (email.trim() === \"\") {\n      setErrorText(\"Email Cannot be Empty\");\n      return;\n    }\n    if (password.trim() === \"\") {\n      setErrorText(\"Password Cannot be Empty\");\n      return;\n    }\n    firebase\n      .auth()\n      .signInWithEmailAndPassword(email, password)\n      .then((data) => {\n        firebase\n          .firestore()\n          .doc(`/users/${data.user.email}`)\n          .get()\n          .then((data) => {\n            if (data.data().isAdmin) {\n              setIsProfessor(true);\n            } else if (data.data().isStaff) {\n              setIsProfessor(true);\n            } else {\n              setIsProfessor(false);\n            }\n            var role = \"\";\n            if (data.data().isStudent) {\n              role = \"student\";\n            }\n            if (data.data().isAdmin) {\n              role = \"admin\";\n            }\n            if (data.data().isStaff) {\n              role = \"staff\";\n            }\n            localStorage.setItem(\n              \"userInfo\",\n              JSON.stringify({\n                role,\n                institute_id: data.data().institute_id,\n              })\n            );\n          })\n          .catch((error) => console.log(error));\n      })\n      .catch((error) => {\n        setErrorText(error.message);\n      })\n      .finally(() => {\n        setIsComponentLoading(false);\n      });\n  };\n\n  return (\n    <Container>\n      <Row className=\"d-flex justify-content-center align-items-center m-5\">\n        <Col xl=\"6\" lg={true}>\n          <Form onSubmit={handleSubmitLogin}>\n            <Form.Group controlId=\"email\">\n              <Form.Label>Email address</Form.Label>\n              <Form.Control\n                type=\"email\"\n                placeholder=\"Enter email\"\n                value={email}\n                onChange={(event) => setEmail(event.target.value)}\n              />\n            </Form.Group>\n\n            <Form.Group controlId=\"password\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control type=\"password\" placeholder=\"Password\" />\n            </Form.Group>\n            {errorText && <p className=\"text-danger\">* {errorText}</p>}\n            {isComponentLoading ? (\n              <Spinner animation=\"border\" variant=\"primary\" />\n            ) : (\n              <Button variant=\"primary\" type=\"submit\">\n                Login\n              </Button>\n            )}\n          </Form>\n          <p\n            className=\"addHover mt-3\"\n            onClick={() => {\n              if (email.trim() === \"\") {\n                setErrorText(\"Enter email to send password reset link.\");\n                return;\n              }\n              firebase\n                .auth()\n                .sendPasswordResetEmail(email)\n                .then(() => alert(\"Password reset Link send successfully.\"))\n                .catch((error) => alert(error.message));\n            }}\n          >\n            Forgot Password ?\n          </p>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default Login;\n","import React, { useEffect, useState, useRef } from \"react\";\nimport io from \"socket.io-client\";\nimport Peer from \"simple-peer\";\nimport styled from \"styled-components\";\nimport { Button, Col, Form, Container, Card } from \"react-bootstrap\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport {\n  CameraVideo,\n  CameraVideoOff,\n  MicMute,\n  Mic,\n  ArrowRepeat,\n} from \"react-bootstrap-icons\";\nimport Loader from \"react-loader-spinner\";\n\nconst incommingCallAudio = new Audio(require(\"../assets/skype_remix_2.mp3\"));\nincommingCallAudio.loop = true;\n\nconst LoadingTailSpin = () => {\n  return (\n    <Loader\n      type=\"TailSpin\"\n      color=\"#00BFFF\"\n      // timeout={3000}\n    />\n  );\n};\n\nconst Row = styled.div`\n  display: flex;\n  width: 100%;\n`;\n\nfunction VideoChat() {\n  const peer = useRef(null);\n  const [yourID, setYourID] = useState(\"\");\n  const [users, setUsers] = useState({});\n  const [stream, setStream] = useState();\n  const [receivingCall, setReceivingCall] = useState(false);\n  const [caller, setCaller] = useState(\"\");\n  const [callerSignal, setCallerSignal] = useState();\n  const [callAccepted, setCallAccepted] = useState(false);\n  const [userMediaLoading, setUserMediaLoading] = useState(false);\n\n  const [callButtonDisability, setCallButtonDisability] = useState(false);\n  const [remoteUserId, setRemoteUserId] = useState(\"\");\n\n  const userVideo = useRef();\n  const partnerVideo = useRef();\n  const socket = useRef();\n\n  const [videoStatus, setVideoStatus] = useState(true);\n  const [audioStatus, setAudioStatus] = useState(true);\n  const [cameraMode, setCameraMode] = useState(\"user\");\n\n  useEffect(() => {\n    // 1. connect to server\n    // socket.current = io.connect(\"http://192.168.29.67:8000/\");\n    // socket.current = io.connect(\"http://192.168.1.105:8000/\");\n    // socket.current = io.connect(\"https://ielts-video-chat.herokuapp.com/\");\n    socket.current = io.connect(\"http://localhost:8000/\");\n    navigator.mediaDevices\n      .getUserMedia({ video: { facingMode: cameraMode }, audio: true })\n      .then((stream) => {\n        setStream(stream);\n        if (userVideo.current) {\n          userVideo.current.srcObject = stream;\n        }\n      })\n      .catch((reason) => {\n        toast.error(\"Provide Permission\");\n      });\n\n    socket.current.on(\"yourID\", (id) => {\n      setYourID(id);\n    });\n    socket.current.on(\"allUsers\", (users) => {\n      console.log(users);\n\n      setUsers(users);\n    });\n\n    socket.current.on(\"receiveCall\", (data) => {\n      console.log(\"Reciving\");\n      setReceivingCall(true);\n      // setCallButtonDisability(true);\n      setCaller(data.from.name);\n      setRemoteUserId(data.from.id);\n      setCallerSignal(data.signal);\n    });\n\n    socket.current.on(\"changeNameStatus\", (response) => {\n      if (response.status) {\n        // toast.success(\"Name changed!\");\n      } else {\n        toast.error(\"name already taken!\");\n      }\n    });\n  }, [cameraMode]);\n\n  function callPeer(id) {\n    // setCallButtonDisability(true);\n\n    peer.current = new Peer({\n      initiator: true,\n      trickle: false,\n      stream: stream,\n    });\n\n    console.log(\"Call user\");\n    peer.current.on(\"signal\", (data) => {\n      socket.current.emit(\"callUser\", {\n        userToCall: id,\n        signalData: data,\n        from: yourID,\n      });\n    });\n\n    peer.current.on(\"stream\", (stream) => {\n      if (partnerVideo.current) {\n        partnerVideo.current.srcObject = stream;\n      }\n    });\n\n    socket.current.on(\"callAccepted\", (signal) => {\n      setCallAccepted(true);\n      setRemoteUserId(id);\n      peer.current.signal(signal);\n      setCallButtonDisability(true);\n      console.log(\"accepted\");\n    });\n\n    peer.current.on(\"error\", (error) => {\n      console.log(error);\n      if (error !== \"Call ended\") {\n        alert(\"Connection error or client closed webpage!\");\n      }\n      setRemoteUserId(\"\");\n      setCallAccepted(false);\n      setCallButtonDisability(false);\n\n      socket.current.removeListener(\"callAccepted\");\n      socket.current.removeListener(\"videoStatusChange\");\n      socket.current.removeListener(\"audioStatusChange\");\n    });\n\n    socket.current.on(\"callEnded\", () => {\n      peer.current.destroy(\"Call ended\");\n    });\n\n    socket.current.on(\"error\", (error) => {\n      peer.current.destroy(error.message);\n    });\n  }\n\n  function acceptCall() {\n    incommingCallAudio.pause();\n    incommingCallAudio.currentTime = 0;\n    setCallAccepted(true);\n    setReceivingCall(false);\n    setCallButtonDisability(true);\n    // setCaller(false);\n\n    peer.current = new Peer({\n      initiator: false,\n      trickle: false,\n      stream: stream,\n    });\n\n    peer.current.on(\"signal\", (data) => {\n      socket.current.emit(\"acceptCall\", { signal: data, to: remoteUserId });\n    });\n\n    peer.current.on(\"stream\", (stream) => {\n      partnerVideo.current.srcObject = stream;\n    });\n\n    peer.current.signal(callerSignal);\n\n    peer.current.on(\"error\", (error) => {\n      console.log(error);\n      if (error !== \"Call ended\") {\n        alert(\"Connection error or client closed webpage!\");\n      }\n      setCallAccepted(false);\n      setCaller(\"\");\n      setRemoteUserId(\"\");\n      setCallerSignal();\n      setCallButtonDisability(false);\n\n      socket.current.removeListener(\"videoStatusChange\");\n      socket.current.removeListener(\"audioStatusChange\");\n    });\n\n    socket.current.on(\"callEnded\", () => {\n      peer.current.destroy(\"Call ended\");\n    });\n  }\n\n  function toggleVideo() {\n    startUserMediaLoadingTimeout(400);\n    const oldTrack = stream.getVideoTracks()[0];\n\n    if (oldTrack.readyState === \"ended\") {\n      navigator.mediaDevices\n        .getUserMedia({ video: { facingMode: cameraMode } })\n        .then((newStream) => {\n          const newTrack = newStream.getVideoTracks()[0];\n          stream.removeTrack(oldTrack);\n          stream.addTrack(newTrack);\n          setVideoStatus(true);\n          if (callAccepted) {\n            peer.current.replaceTrack(oldTrack, newTrack, stream);\n          }\n        });\n    } else if (oldTrack.readyState === \"live\") {\n      oldTrack.stop();\n      setVideoStatus(false);\n\n      if (callAccepted) {\n        peer.current.replaceTrack(oldTrack, oldTrack, stream);\n      }\n    }\n  }\n\n  function toggleAudio() {\n    startUserMediaLoadingTimeout(400);\n\n    const oldTrack = stream.getAudioTracks()[0];\n\n    if (oldTrack.readyState === \"ended\") {\n      navigator.mediaDevices.getUserMedia({ audio: true }).then((newStream) => {\n        const newTrack = newStream.getAudioTracks()[0];\n        stream.removeTrack(oldTrack);\n        stream.addTrack(newTrack);\n        setAudioStatus(true);\n        if (callAccepted) {\n          peer.current.replaceTrack(oldTrack, newTrack, stream);\n        }\n      });\n    } else if (oldTrack.readyState === \"live\") {\n      oldTrack.stop();\n      setAudioStatus(false);\n\n      if (callAccepted) {\n        peer.current.replaceTrack(oldTrack, oldTrack, stream);\n      }\n    }\n  }\n\n  function toggleCamera() {\n    startUserMediaLoadingTimeout(1700);\n    const newCameraMode = cameraMode === \"user\" ? \"environment\" : \"user\";\n    const oldTrack = stream.getVideoTracks()[0];\n    oldTrack.stop();\n    navigator.mediaDevices\n      .getUserMedia({ video: { facingMode: cameraMode } })\n      .then((newStream) => {\n        const newTrack = newStream.getVideoTracks()[0];\n        stream.removeTrack(oldTrack);\n        stream.addTrack(newTrack);\n        setVideoStatus(true);\n        if (callAccepted) {\n          peer.current.replaceTrack(oldTrack, newTrack, stream);\n        }\n      });\n    setCameraMode(newCameraMode);\n  }\n\n  const startUserMediaLoadingTimeout = (milisec) => {\n    setUserMediaLoading(true);\n    setTimeout(() => {\n      setUserMediaLoading(false);\n    }, milisec);\n  };\n\n  function endCall(key) {\n    socket.current.emit(\"endCall\", { id: remoteUserId });\n  }\n\n  function changeName(event) {\n    event.preventDefault();\n    const name = event.target.name.value;\n    let alreadyTaken = false;\n    Object.keys(users).forEach((key) => {\n      if (key !== yourID) {\n        if (name === users[key]) {\n          alreadyTaken = true;\n        }\n      }\n    });\n    if (alreadyTaken) {\n      toast.error(\"name already taken!\");\n      return;\n    } else {\n      socket.current.emit(\"changeName\", { name });\n    }\n  }\n\n  const changeNameInput = (\n    <Form onSubmit={changeName}>\n      <Form.Group controlId=\"name\">\n        <Form.Label>Change Display name</Form.Label>\n\n        <Form.Control type=\"text\" placeholder=\"Enter name\" />\n      </Form.Group>\n      <Button variant=\"primary\" type=\"submit\" size=\"sm\">\n        <small>Change Name</small>\n      </Button>\n    </Form>\n  );\n\n  let UserVideo;\n  let CallUserList;\n  if (stream) {\n    UserVideo = (\n      <video className=\"userVideo\" playsInline muted ref={userVideo} autoPlay />\n    );\n    if (users[yourID] === \"professor\") {\n      CallUserList = Object.keys(users).map((key) => {\n        if (key === yourID) {\n          return null;\n        }\n        return (\n          <Button\n            variant=\"primary\"\n            onClick={() => callPeer(key)}\n            disabled={callButtonDisability}\n            style={{ margin: 5 }}\n          >\n            Call {users[key]}\n          </Button>\n        );\n      });\n    }\n  }\n\n  let PartnerVideo;\n  let endCallButton;\n\n  if (callAccepted) {\n    PartnerVideo = (\n      <video className=\"partnerVideo\" playsInline ref={partnerVideo} autoPlay />\n    );\n    endCallButton = (\n      <div className=\"endCallButton\">\n        <Button variant=\"danger\" onClick={() => endCall()}>\n          End Call\n        </Button>\n      </div>\n    );\n  }\n\n  let ToggleMediaButtons;\n  const videobutton = videoStatus ? \"success\" : \"danger\";\n  const audiobutton = audioStatus ? \"success\" : \"danger\";\n  const videoIcon = videoStatus ? (\n    <CameraVideo size={20} />\n  ) : (\n    <CameraVideoOff size={20} />\n  );\n  const audioIcon = audioStatus ? <Mic size={20} /> : <MicMute size={20} />;\n  ToggleMediaButtons = (\n    <Row className=\"justify-content-md-center\">\n      <Button variant={videobutton} onClick={toggleVideo} style={{ margin: 5 }}>\n        {\" \"}\n        {videoIcon}{\" \"}\n      </Button>\n      <Button variant={audiobutton} onClick={toggleAudio} style={{ margin: 5 }}>\n        {\" \"}\n        {audioIcon}{\" \"}\n      </Button>\n      {videoStatus && (\n        <Button onClick={toggleCamera} style={{ margin: 5 }}>\n          {\" \"}\n          <ArrowRepeat />{\" \"}\n        </Button>\n      )}\n    </Row>\n  );\n\n  let professorOnline;\n  if (users[yourID] !== \"professor\") {\n    Object.keys(users).forEach((key) => {\n      if (key !== yourID) {\n        if (users[key] === \"professor\") {\n          professorOnline = \"Professor online\";\n        }\n      }\n    });\n  }\n\n  let incommintCall;\n  if (receivingCall && users[remoteUserId]) {\n    incommingCallAudio.play();\n\n    incommintCall = (\n      <div className=\"incommingCall\">\n        <Card\n          className=\"text-center\"\n          style={{ background: \"black\", color: \"white\" }}\n        >\n          <Card.Header>\n            <h2>{caller} is calling you</h2>\n          </Card.Header>\n          <Card.Body>\n            <Card.Title></Card.Title>\n            <Container>\n              <Row>\n                <Col>\n                  <Button size=\"lg\" variant=\"danger\" onClick={() => {}}>\n                    Reject\n                  </Button>\n                </Col>\n                <Col>\n                  <Button size=\"lg\" variant=\"success\" onClick={acceptCall}>\n                    Accept\n                  </Button>\n                </Col>\n              </Row>\n            </Container>\n          </Card.Body>\n          <Card.Footer className=\"text-muted\"></Card.Footer>\n        </Card>\n      </div>\n    );\n  } else {\n    incommingCallAudio.pause();\n    incommingCallAudio.currentTime = 0;\n  }\n\n  return (\n    <>\n      {/* ABSOLUTE POSITIONED components  */}\n      {incommintCall}\n      {PartnerVideo}\n      <div className=\"userElements\">\n        {UserVideo}\n        {ToggleMediaButtons}\n      </div>\n      <div className=\"userElementsLoadingBox\" hidden={!userMediaLoading}>\n        <div className=\"userElementsLoading\">\n          <LoadingTailSpin />\n        </div>\n      </div>\n\n      {endCallButton}\n\n      {/* DEFAULT POSITIONED components  */}\n      <Container style={{ color: \"white\" }} fluid>\n        <Row>{CallUserList}</Row>\n        <Row>\n          <Col>\n            <h4>You: {users[yourID]}</h4>\n            {changeNameInput}\n            <Row style={{ color: \"green\", fontWeight: \"bold\" }}>\n              {professorOnline}\n            </Row>\n          </Col>\n        </Row>\n        <ToastContainer autoClose={2000} />\n      </Container>\n    </>\n  );\n}\n\nexport default VideoChat;\n","import React, { useContext } from \"react\";\nimport { Switch, Redirect, Route } from \"react-router-dom\";\nimport { AuthContext } from \"../context/auth\";\nimport Login from \"../views/login\";\nimport VideoChat from \"../views/videoChat\";\n\nconst Routes = () => {\n  const { currentUser } = useContext(AuthContext);\n  if (currentUser) {\n    return (\n      <Switch>\n        <Route path=\"/\" exact component={VideoChat} />\n        <Redirect to=\"/\" />\n      </Switch>\n    );\n  } else {\n    return (\n      <Switch>\n        <Route path=\"/login\" component={Login} />\n        <Redirect to=\"/login\" />\n      </Switch>\n    );\n  }\n};\n\nexport default Routes;\n","import React, { useContext } from \"react\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Nav from \"react-bootstrap/Nav\";\nimport { NavLink } from \"react-router-dom\";\nimport { AuthContext } from \"../context/auth\";\nimport firebase from \"../context/firebase\";\n\nconst Header = () => {\n  const { currentUser } = useContext(AuthContext);\n\n  return (\n    <Navbar bg=\"dark\" expand=\"lg\" variant=\"dark\">\n      <Navbar.Brand href=\"/\">IELTS Video</Navbar.Brand>\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n      <Navbar.Collapse id=\"basic-navbar-nav center\">\n        <Nav className=\"mx-auto\">\n          <Nav.Link as={NavLink} to=\"/contact\" className=\"changeNavColor\">\n            Contact Us\n          </Nav.Link>\n\n          <Nav.Link as={NavLink} to=\"/privacy\" className=\"changeNavColor\">\n            Privacy Policy\n          </Nav.Link>\n\n          {currentUser && (\n            <Nav.Link>\n              <button\n                id=\"logoutBtn\"\n                style={{\n                  background: \"transparent\",\n                  border: \"none\",\n                  color: \"white\",\n                }}\n                onClick={() => firebase.auth().signOut()}\n                href=\"#/\"\n              >\n                Logout\n              </button>\n            </Nav.Link>\n          )}\n        </Nav>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport { HashRouter as Router } from \"react-router-dom\";\nimport { AuthProvider } from \"./context/auth\";\nimport Routes from \"./components/routes\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Header from \"./components/header\";\n\nconst App = () => {\n  return (\n    <AuthProvider>\n      <Router>\n        <Header />\n        <Routes />\n      </Router>\n    </AuthProvider>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}